<html>
<head>
</head>
<body>
  <h1>Practicing javascripty stuff - Patterns</h1>
  <script src="calculate.js"></script>
  <script src="cart.js"></script>
  <script src="equations.js"></script>
  <script src="lineitems.js"></script>
  <script src="taxEquations.js"></script>
  <script>
    
      var product = {
            title: "Item 1",
            once_off: 2.23,
            monthly: 3.33
      };
    
      var items = new LineItems();

      var cart = new Cart();
      //link the items behavior
      cart.setAddAction(items.add);
      cart.setRemoveAction(items.remove);
      cart.setGetAction(items.get);

      //Add a product
      cart.add(product);
      var lineitems = cart.get();

      //Initiate the calculate functionality
      var calculate = new Calculate();
      calculate.setEquation(Equation1);
      calculate.setTaxEquation(TaxEquation1);

      //Check to calculate methods
      var total = calculate.total([
        lineitems,
        'once_off'
      ]);
      var tax = calculate.tax(total);

      //Add a product and recheck the methods adapt
      cart.add(product);
      var lineitems = cart.get();
      total = calculate.total([
        lineitems,
        'once_off'
      ]);
      tax = calculate.tax(total);

      //Testing the remove functionality
      var prods = cart.get();
      cart.remove(product);
      prods = cart.get();

  </script>
</body>
</html>
